webpackJsonp([2],{185:function(t,e,n){n(186),n(368),n(372),n(373),t.exports=n(374)},186:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a,o=n(1),r=n.n(o),s=n(105),l=n.n(s);window.wp=window.wp||{},i=r.a,a="undefined"==typeof _wpUtilSettings?{}:_wpUtilSettings,wp.template=l.a.memoize(function(t){var e,n={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(a){return(e=e||l.a.template(i("#tmpl-"+t).html(),n))(a)}}),wp.ajax={settings:a.ajax||{},post:function(t,e){return wp.ajax.send({data:l.a.isObject(t)?t:l.a.extend(e||{},{action:t})})},send:function(t,e){var n,a;return l.a.isObject(t)?e=t:(e=e||{}).data=l.a.extend(e.data||{},{action:t}),e=l.a.defaults(e||{},{type:"POST",url:wp.ajax.settings.url,context:this}),(n=(a=i.Deferred(function(t){e.success&&t.done(e.success),e.error&&t.fail(e.error),delete e.success,delete e.error,t.jqXHR=i.ajax(e).done(function(e){"1"!==e&&1!==e||(e={success:!0}),l.a.isObject(e)&&!l.a.isUndefined(e.success)?t[e.success?"resolveWith":"rejectWith"](this,[e.data]):t.rejectWith(this,[e])}).fail(function(){t.rejectWith(this,arguments)})})).promise()).abort=function(){return a.jqXHR.abort(),this},n}};var c=n(187),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var h=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$area=r()(".article-comments__content"),!this.$area)throw new Error("Invalid element reference.");this.$btn=r()(".article-comments__toggle"),this.$btnCount=r()(".article-comments__toggle-count"),this.$btnShowHide=r()(".article-comments__toggle-show-hide"),this.$btnComments=r()(".article-comments__toggle-comments"),this.init()}return u(t,[{key:"init",value:function(){this.addClickHandlers(),this.updateCount(),this.hideComments()}},{key:"addClickHandlers",value:function(){var t=this;this.$btn.on("click",function(e){e.preventDefault(),t.toggleComments()})}},{key:"toggleComments",value:function(){this.$area.slideToggle(400);var t="Show"===this.$btnShowHide.text()?"Hide":"Show";this.$btnShowHide.text(t)}},{key:"hideComments",value:function(){this.$area.hide()}},{key:"updateCount",value:function(){var t=this.getCount();1==t?(this.$btnCount.text(t),this.$btnComments.text("Comment")):t>1&&this.$btnCount.text(t)}},{key:"getCount",value:function(){return r()(".wpd-cc-value").text()}}]),t}(),f=n(106),d=n.n(f),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var v=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$copyBtn=r()(".js-copy-to-clipboard"),!this.$copyBtn)throw new Error("Invalid element reference.");this.$copyBtnFeedback=r()(".js-copy-to-clipboard-feedback"),this.init()}return p(t,[{key:"init",value:function(){var t=this,e=new d.a(".js-copy-to-clipboard");e.on("success",function(e){var n=t.$copyBtn.data("success-text"),i=t.$copyBtn.data("default-text");t.$copyBtnFeedback.text(n),t.$copyBtn.addClass("copy-to-clipboard--success"),setTimeout(function(){t.$copyBtn.blur(),t.$copyBtnFeedback.text(i),t.$copyBtn.removeClass("copy-to-clipboard--success")},2500),e.clearSelection()}),e.on("error",function(e){t.$copyBtnFeedback.text("Not Supported"),setTimeout(function(){t.$copyBtn.attr("disabled","disabled"),t.$copyBtnFeedback.text(""),t.$copyBtn.blur()},2500)})}}]),t}(),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var b=n(69),m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$body=r()("body"),this.$galleryOverlay=r()(".gallery-overlay"),this.$gallerySlides=r()(".gallery-overlay__slides"),this.$openBtns=r()(".js-open-gallery"),this.$closeBtn=r()(".js-gallery-close"),this.bindCloseBtn(),this.bindOpenBtns()}return y(t,[{key:"bindOpenBtns",value:function(){var t=this;t.$openBtns.click(function(e){e.preventDefault();var n=r()(this).closest(".js-article-gallery").find(".js-gallery-source-item");t.cloneImages(n),t.updateAttributes(),t.createSlider(),t.bindKeyDown(),t.$galleryOverlay.one("webkitTransitionEnd transitionend",function(){t.$closeBtn.focus()})})}},{key:"cloneImages",value:function(t){t.clone().appendTo(this.$gallerySlides)}},{key:"bindKeyDown",value:function(){var t=this;this.$body.on("keydown.gallery",function(e){return t.handleKeydown(e)})}},{key:"updateAttributes",value:function(){this.$gallerySlides.find(".js-gallery-source-item").each(function(){var t=r()(this),e=r()(this).find("img");e.attr("src",e.data("src")),e.attr("srcset",e.data("srcset")),e.attr("sizes",e.data("sizes")),t.removeClass().addClass("js-gallery-item gallery-item")})}},{key:"createSlider",value:function(){this.flkty=new b(this.$gallerySlides[0],{adaptiveHeight:!0,cellAlign:"left",contain:!0,friction:.5,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1,selectedAttraction:.03}),this.updateCounter(),this.$body.addClass("gallery-overlay-is-shown");var t=this;r()(".js-gallery-prev").on("click",function(){t.flkty.previous(!0,!0)}),r()(".js-gallery-next").on("click",function(){t.flkty.next(!0,!0)}),this.flkty.on("change",function(){t.updateCounter()})}},{key:"updateCounter",value:function(){var t=this.flkty.selectedIndex+1,e=this.flkty.slides.length;r()(".js-gallery-counter-index").text(t),r()(".js-gallery-counter-total").text(e)}},{key:"bindCloseBtn",value:function(){var t=this;r()(".js-gallery-close").click(function(e){e.preventDefault(),t.closeGallery()})}},{key:"closeGallery",value:function(){this.$body.off("keydown.gallery"),this.$body.removeClass("gallery-overlay-is-shown"),this.flkty.destroy();var t=this;setTimeout(function(){t.$gallerySlides.empty()},600)}},{key:"handleKeydown",value:function(t){27===t.which?(t.preventDefault(),this.closeGallery()):37===t.which?(t.preventDefault(),this.flkty.previous(!0,!0)):39===t.which&&(t.preventDefault(),this.flkty.next(!0,!0))}}]),t}(),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var w=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$body=r()("body"),!this.$body)throw new Error("Invalid element reference.");this.init()}return g(t,[{key:"init",value:function(){var t=this;r()(document).keydown(function(e){e.altKey&&e.shiftKey&&76===e.keyCode&&(e.preventDefault(),t.$body.toggleClass("grid-is-shown"))})}}]),t}(),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialize()}k(t,[{key:"initialize",value:function(){}}])}();var $=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$dollarInput=r()(".member-form input#dollar_amount"),this.$radioInputs=r()(".member-form__radio"),this.$noteContainer=r()(".member-form__radio-help"),this.init()}return $(t,[{key:"init",value:function(){var t=this;t.updateHelpText(),this.$dollarInput.on("change keyup paste",function(){t.updateHelpText()}),this.$radioInputs.change(function(){t.updateHelpText()})}},{key:"updateHelpText",value:function(){var t=this.computeLevel(),e=t?"<p>This donation will make you "+t+" member.</p>":"<p><strong>Donate $35 or more</strong> and receive special members-only updates, behind-the-scenes Q&A with journalists, and more.</p>";this.$noteContainer.html(e)}},{key:"computeLevel",value:function(){var t=parseInt(r()(".member-form input#dollar_amount").val())*("monthly"==r()(".member-form__radio:checked").val()?12:1);return t>=1e3?"an <strong>Investigator</strong>":t>=500?"a <strong>Truth Teller</strong>":t>=35?"a <strong>Watchdog</strong>":null}}]),t}(),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var j=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$body=r()("body"),!this.$body)throw new Error("Invalid element reference.");this.init()}return x(t,[{key:"init",value:function(){this.$openButton=r()(".js-nav-open"),this.$closeButton=r()(".js-nav-close"),this.$nav=r()(".js-nav"),this.$body=r()("body"),this.navOpen=!1,this.addClickHandlers()}},{key:"addClickHandlers",value:function(){var t=this;this.$openButton.on("click",function(e){e.preventDefault(),t.toggleNav()}),this.$closeButton.on("click",function(e){e.preventDefault(),t.toggleNav()})}},{key:"toggleNav",value:function(){this.navOpen?this.closeNav():this.openNav()}},{key:"openNav",value:function(t){var e=this;this.navOpen=!0,this.$body.addClass("nav-is-open"),this.$nav.addClass("nav--active"),this.$nav.one("webkitTransitionEnd transitionend",function(){e.$closeButton.focus()}),this.$body.on("keydown.nav",function(t){return e.handleKeydown(t)})}},{key:"closeNav",value:function(){this.navOpen=!1,this.$body.removeClass("nav-is-open"),this.$nav.removeClass("nav--active"),this.$openButton.focus(),this.$body.off("keydown.nav")}},{key:"handleKeydown",value:function(t){var e=r()(t.target);27===t.which?(t.preventDefault(),this.closeNav()):9===t.which&&t.shiftKey?(this.$nav.find("a").first().is(e)&&(t.preventDefault(),this.$closeButton.focus()),this.$closeButton.is(e)&&(t.preventDefault(),this.$nav.find("a").last().focus())):9===t.which&&(this.$nav.find("a").last().is(e)&&(t.preventDefault(),this.$closeButton.focus()),this.$closeButton.is(e)&&(t.preventDefault(),this.$nav.find("a").first().focus()))}}]),t}(),_=n(199),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var B=n(69),O=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$container=r()(".home-features__list"),!this.$container)throw new Error("Invalid element reference.");this.flkty=null,this.init()}return T(t,[{key:"init",value:function(){var t=this.$container;this.flkty=new B(t[0],{adaptiveHeight:!1,cellAlign:"left",contain:!0,friction:.3,imagesLoaded:!0,pageDots:!1,prevNextButtons:!0,selectedAttraction:.03,setGallerySize:!0})}}]),t}(),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$articleTables=r()(".article-main table"),this.columnCountThreshold=5,this.approxPixelsPerColumn=130,this.wrapWideTables()}return S(t,[{key:"wrapWideTables",value:function(){var t=this;this.$articleTables.each(function(){var e=r()(this),n=e.find("tbody > tr:first > td").length;if(e.hasClass("wide")||n>=t.columnCountThreshold){e.wrap(function(){return'<div class="scrollable-table-wrap '+e.attr("class")+'"></div>'}),e.attr("class","");var i=t.approxPixelsPerColumn*n;r()(this).attr("style","min-width: "+i+"px")}})}}]),t}(),E=this;r()(document).ready(function(){new _.a,r()(".js-article-gallery").length&&new m,r()(".article-content").length&&new c.a,["localhost","cpi.ups.dock"].includes(location.hostname)&&new w,r()(".js-copy-to-clipboard").length&&new v,r()(".article-comments").length&&new h,new j,r()(".member-form__radio").length&&new C,r()(".home-features__list").length&&new O,r()(".article-main table").length&&new P,r()("#js-search-box").length>0&&n.e(0).then(function(t){var e=n(412).default;E.search=new e}.bind(null,n)).catch(n.oe)})},187:function(t,e,n){"use strict";(function(t){var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var i=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$body=t("body");var n=this.$body.hasClass("tag-legacy");this.$headings=t(n?"body.tag-legacy .article-main .basic-text > h4, .article-main .basic-text h2.chapter-heading":".article-main .basic-text > h2 "),this.$sidebarTarget=t(".article-chapters"),this.docOutline=[],this.mobileMax=960,this.mobileMql="matchMedia"in window&&window.matchMedia("(min-width: "+this.mobileMax+"px)"),this.lastScrollPos=0,this.$headings.length>1&&(this.buildDocOutline(),this.buildChapters()),this.bindScrollToProgress()}return n(e,[{key:"buildDocOutline",value:function(){this.$headings.addClass("article-section-heading");var e=this;t(".article-section-heading").each(function(n){var i="part-"+(n+1),a=t(this).text(),o=(parseInt(t(this).position().top),"chapter-link-to-"+i);t(this).attr("id",i),e.docOutline.push({$heading:t(this),text:a,id:i,linkId:o}),t(this).nextUntil(".article-section-heading").addBack().wrapAll('<section class="article-section"></section>')})}},{key:"buildChapters",value:function(){this.$sidebarTarget.append('<ul class="article-chapters__list"></ul>'),this.docOutline.forEach(function(e,n){t(".article-chapters__list").append('<li class="article-chapters__item">\n                    <a class="article-chapters__link" id="'+e.linkId+'" href="#'+e.id+'">\n                        <span>'+e.text+'</span>\n                    </a>\n                    <span class="article-chapters__progress"></span>\n                </li>')}),t(".article-chapters__link").click(function(e){e.preventDefault(),t("html, body").animate({scrollTop:t(t(this).attr("href")).offset().top},1500)})}},{key:"bindScrollToProgress",value:function(){var e=this;t(window).scroll(this.throttle(function(){var n=t(window).scrollTop();e.updateProgress(n),e.updateStickyNav(n)},100))}},{key:"updateStickyNav",value:function(e){e<this.lastScrollPos?this.$body.addClass("js-scrolling-up"):this.$body.removeClass("js-scrolling-up"),t("div.article-content").position()&&(e>t(".article-content").position().top?this.$body.addClass("js-scrolled-to-article-content"):this.$body.removeClass("js-scrolled-to-article-content")),this.lastScrollPos=e<=0?0:e}},{key:"updateProgress",value:function(e){var n=e-.7*t(window).height(),i=this;this.docOutline.forEach(function(e,a){var o=t("#"+e.linkId).closest("li"),r=e.$heading.closest(".article-section"),s=r.position().top,l=r.height(),c=s+l,u=n>c,h=0;n>s&&n<c?(o.addClass("article-chapters__item--active"),h=(n-s)/l):o.removeClass("article-chapters__item--active"),u?(o.addClass("article-chapters__item--complete"),h=1):o.removeClass("article-chapters__item--complete");var f=100*h+"%",d=i.mobileMql.matches?"height":"width",p="height"==d?"width":"height";o.find(".article-chapters__progress").css(d,f).css(p,"1px")})}},{key:"throttle",value:function(t,e,n){var i,a;return e||(e=250),function(){var o=n||this,r=+new Date,s=arguments;i&&r<i+e?(clearTimeout(a),a=setTimeout(function(){i=r,t.apply(o,s)},e)):(i=r,t.apply(o,s))}}}]),e}();e.a=i}).call(e,n(1))},199:function(t,e,n){"use strict";(function(t){var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var i=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=t(".js-hang-punc"),this.punctuationMarks={"“":"medium","‘":"small",'"':"medium","'":"small","«":"large","‹":"medium","„":"medium","‚":"small"},this.$container.length>0&&this.hangPunc()}return n(e,[{key:"hangPunc",value:function(){for(var e=this.$container.children(),n=0;n<e.length;n+=1){var i=e[n];if("FIGURE"===i.tagName){var a=t(i).find("blockquote > p");a.length&&this.hangIfEligible(a[0])}else this.hangIfEligible(i)}}},{key:"hangIfEligible",value:function(t){var e=this,n=t.innerText||t.textContent,i="hang-punc-";Object.keys(this.punctuationMarks).forEach(function(a){0===n.indexOf(a)&&("H1"!==t.tagName&&"H2"!==t.tagName&&"H3"!==t.tagName&&"H4"!==t.tagName&&"H5"!==t.tagName||(i+="header-"),t.classList.add(i+e.punctuationMarks[a]))})}},{key:"createTips",value:function(){t(this.toolTipTargets).each(function(e,n){var i=t(n),a=new URL(i.attr("href")),o=t("<span/>");o.text(a.hostname),o.addClass("tool-tip"),i.append(o)})}}]),e}();e.a=i}).call(e,n(1))},368:function(t,e){},372:function(t,e){},373:function(t,e){},374:function(t,e){}},[185]);